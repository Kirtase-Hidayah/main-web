import{j as e}from"./ui-vendor-C-NzF8rS.js";import{r as s}from"./react-vendor-dEak5Vpg.js";import{c as a,a as r,d as t,t as l,s as n}from"./index-C8K582Q_.js";import{B as i}from"./button-DDg2AWne.js";import{S as c}from"./Seo-C5zCGxv8.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=a("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),o=a("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),m=a("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x=t("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),h=s.forwardRef(({className:s,variant:a,...t},l)=>e.jsx("div",{ref:l,role:"alert",className:r(x({variant:a}),s),...t}));
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */h.displayName="Alert";const j=s.forwardRef(({className:s,...a},t)=>e.jsx("h5",{ref:t,className:r("mb-1 font-medium leading-none tracking-tight",s),...a}));j.displayName="AlertTitle";const u=s.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:r("text-sm [&_p]:leading-relaxed",s),...a}));u.displayName="AlertDescription";const g=()=>{const[a,r]=s.useState(null),[t,x]=s.useState(!1),[g,b]=s.useState({}),[f,p]=s.useState(null);s.useEffect(()=>{b({url:"https://yfxvijrqsaltnmluyqen.supabase.co",hasAnonKey:!0,hasPublishableKey:!0})},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-background/95 pt-24 pb-16",children:[e.jsx(c,{title:"Supabase Diagnostic â€“ Kirtase Hidayah",description:"Internal diagnostic page for testing Supabase configuration."}),e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs("div",{className:"glass-card p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gradient-emerald mb-6",children:"Supabase Diagnostic"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Environment Variables"}),e.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:g.url?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5 text-green-500"}),e.jsxs("span",{children:["VITE_SUPABASE_URL: ",g.url]})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{children:"VITE_SUPABASE_URL: Missing"})]})}),e.jsx("div",{className:"flex items-center gap-2",children:g.hasAnonKey?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"VITE_SUPABASE_ANON_KEY: Present"})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{children:"VITE_SUPABASE_ANON_KEY: Missing"})]})}),e.jsx("div",{className:"flex items-center gap-2",children:g.hasPublishableKey?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"VITE_SUPABASE_PUBLISHABLE_KEY: Present"})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{children:"VITE_SUPABASE_PUBLISHABLE_KEY: Missing"})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Connection Test"}),e.jsx(i,{onClick:async()=>{x(!0);try{const e=await l();r(e)}catch(e){r({ok:!1,error:e.message})}x(!1)},disabled:t,className:"mb-4",children:t?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):"Test Connection"}),a&&e.jsxs(h,{variant:a.ok?"default":"destructive",children:[a.ok?e.jsx(d,{className:"h-4 w-4"}):e.jsx(o,{className:"h-4 w-4"}),e.jsx(j,{children:a.ok?"Connection Successful":"Connection Failed"}),e.jsx(u,{children:a.ok?`Status: ${a.status}`:`Error: ${a.error}`})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Database Test"}),e.jsx(i,{onClick:async()=>{x(!0);try{const{data:e,error:s}=await n.from("profiles").select("count").limit(1);p(s?{ok:!1,error:s.message}:{ok:!0,data:e})}catch(e){p({ok:!1,error:e.message})}x(!1)},disabled:t,className:"mb-4",children:t?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):"Test Database Query"}),f&&e.jsxs(h,{variant:f.ok?"default":"destructive",children:[f.ok?e.jsx(d,{className:"h-4 w-4"}):e.jsx(o,{className:"h-4 w-4"}),e.jsx(j,{children:f.ok?"Database Query Successful":"Database Query Failed"}),e.jsx(u,{children:f.ok?"Query executed successfully":`Error: ${f.error}`})]})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Note:"})," Check the browser console (F12) for additional error messages or warnings from Supabase."]})})]})})]})};export{g as default};
