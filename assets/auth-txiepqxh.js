import{j as e}from"./ui-vendor-C-NzF8rS.js";import{r as s,e as a}from"./react-vendor-dEak5Vpg.js";import{B as t}from"./button-DDg2AWne.js";import{I as r}from"./input-DK2WZrB9.js";import{L as l}from"./label-unAsljsP.js";import{c as i,u as n,b as c}from"./index-C8K582Q_.js";import{H as o,d,F as m}from"./Footer-5j2EL-zX.js";import{S as u}from"./Seo-C5zCGxv8.js";import{U as x}from"./user-Cb4Beco-.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=i("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),h=()=>{const[i,h]=s.useState(!0),[f,j]=s.useState(""),[g,v]=s.useState(""),[y,N]=s.useState(""),[b,w]=s.useState(!1),[S,k]=s.useState(null),C=a(),{toast:E}=n(),{user:F,signIn:q,signUp:L,mode:U}=c();s.useEffect(()=>{F&&C("/")},[F,C]);return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(u,{title:"Account â€“ Kirtase Hidayah",description:"Sign in or register to access more features."}),e.jsx(o,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-20",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"glass-card p-8 glow-emerald animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gradient-emerald mb-2",children:i?"Welcome Back":"Join Us"}),e.jsx("p",{className:"text-muted-foreground",children:i?"Sign in to access your account":"Create your account to get started"})]}),S&&e.jsx("div",{className:"mb-4 p-3 rounded-lg border border-destructive/40 text-destructive bg-destructive/10 text-sm",children:S}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),w(!0);try{if(i)await q(f,g,y),E({title:"Welcome back!",description:"You have successfully logged in."});else{await L(f,g,y);E({title:"Account created!",description:"supabase"===U?"Check your email to confirm sign-in if required.":"You can now sign in."})}C("/")}catch(s){const e=(null==s?void 0:s.message)||"Sign-in failed";E({title:"Error",description:e,variant:"destructive"})}finally{w(!1)}},className:"space-y-4",children:[!i&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"fullName",className:"text-foreground",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r,{id:"fullName",type:"text",placeholder:"Enter your full name",value:y,onChange:e=>N(e.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",className:"text-foreground",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r,{id:"email",type:"email",placeholder:"Enter your email",value:f,onChange:e=>j(e.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",className:"text-foreground",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r,{id:"password",type:"password",placeholder:"Enter your password",value:g,onChange:e=>v(e.target.value),className:"pl-10",required:!0,minLength:6})]})]}),e.jsx(t,{type:"submit",className:"w-full btn-circular glow-emerald bg-gradient-emerald",disabled:b,children:b?"Please wait...":i?"Sign In":"Sign Up"})]}),"local"===U&&e.jsxs("div",{className:"mt-4 text-xs text-muted-foreground text-center",children:["Tip: Local admin credentials are ",e.jsx("strong",{children:"creepyclient530@gmail.com"})," / ",e.jsx("strong",{children:"pass123@"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{type:"button",onClick:()=>h(!i),className:"text-gold hover:underline transition-all",children:i?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})}),e.jsx(m,{})]})};export{h as default};
